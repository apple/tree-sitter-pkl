===
api/any.pkl
===

amends "../snippetTest.pkl"

examples {
  ["getClass()"] {
    1.getClass().simpleName
    1.2.getClass().simpleName
    true.getClass().simpleName
    "hello".getClass().simpleName
    5.min.getClass().simpleName
    5.mb.getClass().simpleName
    List(1, 2, 3).getClass().simpleName
    Map("one", 1, "two", 2).getClass().simpleName
    new Listing { 1; 2; 3 }.getClass().simpleName
    new Mapping { ["one"] = 1; ["two"] = 2 }.getClass().simpleName
    new Dynamic { x = 1; y = 2 }.getClass().simpleName
    new Person { name = "Pigeon" }.getClass().simpleName
    Person.getClass().simpleName
    null.getClass().simpleName
    Pair(1, 2).getClass().simpleName
    import("pkl:base").getClass().simpleName
  }

  ["ifNonNull"] {
    local s = 10

    s.ifNonNull((x) -> x)
    s.ifNonNull((x) -> "foo")
    s.ifNonNull((x) -> null)

    null.ifNonNull((x) -> x)
    null.ifNonNull((x) -> "foo")
    null.ifNonNull((x) -> null)
  }

  ["toString()"] {
    "Pigeon".toString()
    42.toString()
    1.23.toString()
    true.toString()
    1.23.ns.toString()
    1.23.mb.toString()
    Pair(1, 2).toString()
    List(1, 2, 3).toString()
    Set(1, 2, 3).toString()
    Map(1, 2, 3, 4).toString()
    new Listing { 1 2 3 }.toString()
    new Mapping { ["Pigeon"] = 42; ["Barn Owl"] = 21 }.toString()
    new Dynamic { name = "Pigeon"; age = 42 }.toString()
    new Person2 { name = "Pigeon"; age = 42 }.toString()
    null.toString()
    Null(new Dynamic { name = "Pigeon" }).toString()
  }
}

local class Person {
  name: String
}

local class Person2 {
  name: String
  age: Int
}

---

(module
  (moduleHeader
      (extendsOrAmendsClause
      (stringConstant
        (slStringLiteralPart))))
  (classProperty
    (identifier)
    (objectBody
      (objectEntry
        (slStringLiteralExpr
          (slStringLiteralPart))
        (objectBody
          (objectElement
            (qualifiedAccessExpr
              (qualifiedAccessExpr
                (intLiteralExpr)
                (identifier)
                (argumentList))
              (identifier)))
          (objectElement
            (qualifiedAccessExpr
              (qualifiedAccessExpr
                (floatLiteralExpr)
                (identifier)
                (argumentList))
              (identifier)))
          (objectElement
            (qualifiedAccessExpr
              (qualifiedAccessExpr
                (trueLiteralExpr)
                (identifier)
                (argumentList))
              (identifier)))
          (objectElement
            (qualifiedAccessExpr
              (qualifiedAccessExpr
                (slStringLiteralExpr
                  (slStringLiteralPart))
                (identifier)
                (argumentList))
              (identifier)))
          (objectElement
            (qualifiedAccessExpr
              (qualifiedAccessExpr
                (qualifiedAccessExpr
                  (intLiteralExpr)
                  (identifier))
                (identifier)
                (argumentList))
              (identifier)))
          (objectElement
            (qualifiedAccessExpr
              (qualifiedAccessExpr
                (qualifiedAccessExpr
                  (intLiteralExpr)
                  (identifier))
                (identifier)
                (argumentList))
              (identifier)))
          (objectElement
            (qualifiedAccessExpr
              (qualifiedAccessExpr
                (unqualifiedAccessExpr
                  (identifier)
                  (argumentList
                    (intLiteralExpr)
                    (intLiteralExpr)
                    (intLiteralExpr)))
                (identifier)
                (argumentList))
              (identifier)))
          (objectElement
            (qualifiedAccessExpr
              (qualifiedAccessExpr
                (unqualifiedAccessExpr
                  (identifier)
                  (argumentList
                    (slStringLiteralExpr
                      (slStringLiteralPart))
                    (intLiteralExpr)
                    (slStringLiteralExpr
                      (slStringLiteralPart))
                    (intLiteralExpr)))
                (identifier)
                (argumentList))
              (identifier)))
          (objectElement
            (qualifiedAccessExpr
              (qualifiedAccessExpr
                (newExpr
                  (declaredType
                    (qualifiedIdentifier
                      (identifier)))
                  (objectBody
                    (objectElement
                      (intLiteralExpr))
                    (objectElement
                      (intLiteralExpr))
                    (objectElement
                      (intLiteralExpr))))
                (identifier)
                (argumentList))
              (identifier)))
          (objectElement
            (qualifiedAccessExpr
              (qualifiedAccessExpr
                (newExpr
                  (declaredType
                    (qualifiedIdentifier
                      (identifier)))
                  (objectBody
                    (objectEntry
                      (slStringLiteralExpr
                        (slStringLiteralPart))
                      (intLiteralExpr))
                    (objectEntry
                      (slStringLiteralExpr
                        (slStringLiteralPart))
                      (intLiteralExpr))))
                (identifier)
                (argumentList))
              (identifier)))
          (objectElement
            (qualifiedAccessExpr
              (qualifiedAccessExpr
                (newExpr
                  (declaredType
                    (qualifiedIdentifier
                      (identifier)))
                  (objectBody
                    (objectProperty
                      (identifier)
                      (intLiteralExpr))
                    (objectProperty
                      (identifier)
                      (intLiteralExpr))))
                (identifier)
                (argumentList))
              (identifier)))
          (objectElement
            (qualifiedAccessExpr
              (qualifiedAccessExpr
                (newExpr
                  (declaredType
                    (qualifiedIdentifier
                      (identifier)))
                  (objectBody
                    (objectProperty
                      (identifier)
                      (slStringLiteralExpr
                        (slStringLiteralPart)))))
                (identifier)
                (argumentList))
              (identifier)))
          (objectElement
            (qualifiedAccessExpr
              (qualifiedAccessExpr
                (unqualifiedAccessExpr
                  (identifier))
                (identifier)
                (argumentList))
              (identifier)))
          (objectElement
            (qualifiedAccessExpr
              (qualifiedAccessExpr
                (nullLiteralExpr)
                (identifier)
                (argumentList))
              (identifier)))
          (objectElement
            (qualifiedAccessExpr
              (qualifiedAccessExpr
                (unqualifiedAccessExpr
                  (identifier)
                  (argumentList
                    (intLiteralExpr)
                    (intLiteralExpr)))
                (identifier)
                (argumentList))
              (identifier)))
          (objectElement
            (qualifiedAccessExpr
              (qualifiedAccessExpr
                (importExpr
                  (stringConstant
                    (slStringLiteralPart)))
                (identifier)
                (argumentList))
              (identifier)))))
      (objectEntry
        (slStringLiteralExpr
          (slStringLiteralPart))
        (objectBody
          (objectProperty
            (modifier)
            (identifier)
            (intLiteralExpr))
          (objectElement
            (qualifiedAccessExpr
              (unqualifiedAccessExpr
                (identifier))
              (identifier)
              (argumentList
                (functionLiteralExpr
                  (parameterList
                    (typedIdentifier
                      (identifier)))
                  (unqualifiedAccessExpr
                    (identifier))))))
          (objectElement
            (qualifiedAccessExpr
              (unqualifiedAccessExpr
                (identifier))
              (identifier)
              (argumentList
                (functionLiteralExpr
                  (parameterList
                    (typedIdentifier
                      (identifier)))
                  (slStringLiteralExpr
                    (slStringLiteralPart))))))
          (objectElement
            (qualifiedAccessExpr
              (unqualifiedAccessExpr
                (identifier))
              (identifier)
              (argumentList
                (functionLiteralExpr
                  (parameterList
                    (typedIdentifier
                      (identifier)))
                  (nullLiteralExpr)))))
          (objectElement
            (qualifiedAccessExpr
              (nullLiteralExpr)
              (identifier)
              (argumentList
                (functionLiteralExpr
                  (parameterList
                    (typedIdentifier
                      (identifier)))
                  (unqualifiedAccessExpr
                    (identifier))))))
          (objectElement
            (qualifiedAccessExpr
              (nullLiteralExpr)
              (identifier)
              (argumentList
                (functionLiteralExpr
                  (parameterList
                    (typedIdentifier
                      (identifier)))
                  (slStringLiteralExpr
                    (slStringLiteralPart))))))
          (objectElement
            (qualifiedAccessExpr
              (nullLiteralExpr)
              (identifier)
              (argumentList
                (functionLiteralExpr
                  (parameterList
                    (typedIdentifier
                      (identifier)))
                  (nullLiteralExpr)))))))
      (objectEntry
        (slStringLiteralExpr
          (slStringLiteralPart))
        (objectBody
          (objectElement
            (qualifiedAccessExpr
              (slStringLiteralExpr
                (slStringLiteralPart))
              (identifier)
              (argumentList)))
          (objectElement
            (qualifiedAccessExpr
              (intLiteralExpr)
              (identifier)
              (argumentList)))
          (objectElement
            (qualifiedAccessExpr
              (floatLiteralExpr)
              (identifier)
              (argumentList)))
          (objectElement
            (qualifiedAccessExpr
              (trueLiteralExpr)
              (identifier)
              (argumentList)))
          (objectElement
            (qualifiedAccessExpr
              (qualifiedAccessExpr
                (floatLiteralExpr)
                (identifier))
              (identifier)
              (argumentList)))
          (objectElement
            (qualifiedAccessExpr
              (qualifiedAccessExpr
                (floatLiteralExpr)
                (identifier))
              (identifier)
              (argumentList)))
          (objectElement
            (qualifiedAccessExpr
              (unqualifiedAccessExpr
                (identifier)
                (argumentList
                  (intLiteralExpr)
                  (intLiteralExpr)))
              (identifier)
              (argumentList)))
          (objectElement
            (qualifiedAccessExpr
              (unqualifiedAccessExpr
                (identifier)
                (argumentList
                  (intLiteralExpr)
                  (intLiteralExpr)
                  (intLiteralExpr)))
              (identifier)
              (argumentList)))
          (objectElement
            (qualifiedAccessExpr
              (unqualifiedAccessExpr
                (identifier)
                (argumentList
                  (intLiteralExpr)
                  (intLiteralExpr)
                  (intLiteralExpr)))
              (identifier)
              (argumentList)))
          (objectElement
            (qualifiedAccessExpr
              (unqualifiedAccessExpr
                (identifier)
                (argumentList
                  (intLiteralExpr)
                  (intLiteralExpr)
                  (intLiteralExpr)
                  (intLiteralExpr)))
              (identifier)
              (argumentList)))
          (objectElement
            (qualifiedAccessExpr
              (newExpr
                (declaredType
                  (qualifiedIdentifier
                    (identifier)))
                (objectBody
                  (objectElement
                    (intLiteralExpr))
                  (objectElement
                    (intLiteralExpr))
                  (objectElement
                    (intLiteralExpr))))
              (identifier)
              (argumentList)))
          (objectElement
            (qualifiedAccessExpr
              (newExpr
                (declaredType
                  (qualifiedIdentifier
                    (identifier)))
                (objectBody
                  (objectEntry
                    (slStringLiteralExpr
                      (slStringLiteralPart))
                    (intLiteralExpr))
                  (objectEntry
                    (slStringLiteralExpr
                      (slStringLiteralPart))
                    (intLiteralExpr))))
              (identifier)
              (argumentList)))
          (objectElement
            (qualifiedAccessExpr
              (newExpr
                (declaredType
                  (qualifiedIdentifier
                    (identifier)))
                (objectBody
                  (objectProperty
                    (identifier)
                    (slStringLiteralExpr
                      (slStringLiteralPart)))
                  (objectProperty
                    (identifier)
                    (intLiteralExpr))))
              (identifier)
              (argumentList)))
          (objectElement
            (qualifiedAccessExpr
              (newExpr
                (declaredType
                  (qualifiedIdentifier
                    (identifier)))
                (objectBody
                  (objectProperty
                    (identifier)
                    (slStringLiteralExpr
                      (slStringLiteralPart)))
                  (objectProperty
                    (identifier)
                    (intLiteralExpr))))
              (identifier)
              (argumentList)))
          (objectElement
            (qualifiedAccessExpr
              (nullLiteralExpr)
              (identifier)
              (argumentList)))
          (objectElement
            (qualifiedAccessExpr
              (unqualifiedAccessExpr
                (identifier)
                (argumentList
                  (newExpr
                    (declaredType
                      (qualifiedIdentifier
                        (identifier)))
                    (objectBody
                      (objectProperty
                        (identifier)
                        (slStringLiteralExpr
                          (slStringLiteralPart)))))))
              (identifier)
              (argumentList)))))))
  (clazz
    (modifier)
    (identifier)
    (classBody
      (classProperty
        (identifier)
        (typeAnnotation
          (declaredType
            (qualifiedIdentifier
              (identifier)))))))
  (clazz
    (modifier)
    (identifier)
    (classBody
      (classProperty
        (identifier)
        (typeAnnotation
          (declaredType
            (qualifiedIdentifier
              (identifier)))))
      (classProperty
        (identifier)
        (typeAnnotation
          (declaredType
            (qualifiedIdentifier
              (identifier))))))))